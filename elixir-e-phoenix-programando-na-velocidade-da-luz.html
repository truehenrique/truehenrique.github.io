<!DOCTYPE html>
<html lang="pt">
  <head>
    <script data-ad-client="ca-pub-1640512874906863" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-161733672-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-161733672-1');
    </script>
    <title>Elixir + Phoenix: Programando na velocidade da luz!</title>
    <meta property="og:image" content="https://truehenrique.com/images/uploads/posts/elixir-e-phoenix-programando-na-velocidade-da-luz/original.png?v=63762304370">
    <meta name="twitter:image:src" content="https://truehenrique.com/images/uploads/posts/elixir-e-phoenix-programando-na-velocidade-da-luz/original.png?v=63762304370">
    <meta property="og:type" content="article" />
    <meta property="article:author" content="https://www.truehenrique.com/sobre">
    <meta property="og:site_name" content="true |> henrique" />
    <meta property="og:description" content="Hoje resolvi trazer alguns &quot;pontos chave&quot; sobre como podemos ser mais produtivos programando com Elixir e Phoenix, este post pode ser tanto para quem já tem alguma experiência com a linguagem quanto para quem está iniciando." />
    <meta property="twitter:description" content="Hoje resolvi trazer alguns &quot;pontos chave&quot; sobre como podemos ser mais produtivos programando com Elixir e Phoenix, este post pode ser tanto para quem já tem alguma experiência com a linguagem quanto para quem está iniciando.">
    <meta name="description" content="Hoje resolvi trazer alguns &quot;pontos chave&quot; sobre como podemos ser mais produtivos programando com Elixir e Phoenix, este post pode ser tanto para quem já tem alguma experiência com a linguagem quanto para quem está iniciando.">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="robots" content="index,follow">
    <meta name="keywords" content="elixir,phoenix,produtividade,iex,dicas,aprender">
    <meta property="og:title" content="Elixir + Phoenix: Programando na velocidade da luz!" />
    <meta property="twitter:title" content="Elixir + Phoenix: Programando na velocidade da luz!">
    <meta name="title" content ="Elixir + Phoenix: Programando na velocidade da luz!">
    <meta property="og:url" content="https://www.truehenrique.com/elixir-e-phoenix-programando-na-velocidade-da-luz">
    <link rel="canonical" href="https://www.truehenrique.com/elixir-e-phoenix-programando-na-velocidade-da-luz"/>
    <link rel="author" href="https://www.truehenrique.com/sobre">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Henrique Fernandez Teixeira">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/foundation-sites@6.5.0-rc.3/dist/css/foundation.min.css" integrity="sha256-b2khkeAav/7kTh0Bs5h1Xw1kqGL56SziJ5zk6bEvnAw= sha384-7nP0F9FVCI9Qg1SfsjHWQd+4ksCAxlF5pibRyPGxwn7NJpu1XuSaOoMh8JHIDSdk sha512-Rcgo7Zj9clxZoGtt4CBj1aEtCL9gBd64nYl3hkKEuWDwtK7hKY6c4D5vL4njDseuz31u1WWSM42SbvYe/3CZYQ==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/foundation-icons.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.0/css/flag-icon.css" />
    <link rel="manifest" href="manifest.json">
    <link href='css/app.css' rel="stylesheet" type="text/css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/default.min.css">

    <script src='https://www.google.com/recaptcha/api.js'></script>
    <script src="https://unpkg.com/unpoly@0.62.1/dist/unpoly.min.js" integrity="sha384-4PWpXaib3dqJ5r6dXwq3YOW0OFmH7NTjH697AUQR7W4Q0F+GqP+dD0SrBfIc9b2t" crossorigin="anonymous"></script>
    <script>
      if (navigator.serviceWorker) {
        navigator.serviceWorker.register('/service_worker.js', { scope: './' })
          .then(function(reg) {
            console.log('[Companion]', 'Service worker registered!');
            console.log(reg);
          });
      }
    </script>
  </head>
  <body>
  <div>
    <nav>
      <ul class="menu align-center">
        <li><a  href="index.html" class="active_link"><i class="fi-page-multiple"></i> Blog</a></li>
        <li><a  href="sobre.html" class=""><i class="fi-torso-business"></i> Sobre</a></li>
        <li><a href="change-locale/es.html" class=""><i class="fi-mail"></i> Contato</a></li>
      </ul>
    </nav>
  </div>
  <div class="after-nav-container">
    <div class="social-networks">
      <a href="https://www.linkedin.com/in/henrique-fernandez-teixeira-93a4a3127/" target="_blank"><i class="fi-social-linkedin large"></i></a>
      <a href="https://www.instagram.com/henrique.ft/" target="_blank"><i class="fi-social-instagram large"></i></a>
      <a href="https://github.com/henriquefernandez" target="_blank"><i class="fi-social-github large"></i></a>
    </div>

  </div>
<div id="fb-root"></div>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/es_ES/sdk.js#xfbml=1&version=v6.0"></script>

<div class="grid-container post-container">
  <div class="grid-x">
    <div class="cell small-12 medium-8">
      <div class="post-header">
        <h1 class="post-title">Elixir + Phoenix: Programando na velocidade da luz!</h1>
      </div>

          <div class="post-image">
              <div class="thumbnail" style="background-image: url(
              images/uploads/posts/elixir-e-phoenix-programando-na-velocidade-da-luz/original.png@v=63762304370);" alt="Elixir + Phoenix: Programando na velocidade da luz!"></div>
          </div>

      <div class="post-content">
        <br>
<div>Hoje resolvi trazer alguns "pontos chave" sobre como podemos ser mais produtivos programando com <em>Elixir </em>e <em>Phoenix</em>, este post pode ser tanto para quem já tem alguma experiência com a linguagem quanto para quem está iniciando. Talvez você já conheça algumas dessas dicas, outras talvez descubra agora, mas o principal é compartilhar e aprender. vamos lá:<br><br></div><h3>1. Entenda todos os detalhes de <strong><em>pattern matching</em></strong><strong>, </strong><strong><em>guards</em></strong><strong>, </strong><strong><em>keyword lists</em></strong><strong> e </strong><strong><em>structs</em></strong>.<br><br></h3><div>Conhecendo-os temos um grande ganho em produtividade. Diria que <em>60%</em> do código que lemos e escrevemos com a linguagem envolvem essas estruturas, vale a pena dedicar bastante tempo as explorando e estudando, dessa forma ganhamos muito mais "fluidez" no desenvolvimento das demandas do dia a dia.<br><br>Veja alguns exemplos de detalhes que podem nos pegar de surpresa em determinado momento do nosso desenvolvimento<strong>:</strong></div><div><br><strong>1.1 </strong><em>Pattern</em> ma<em>tching</em> com <em>structs</em> funcionam dessa forma:&nbsp;</div><pre><code class='html'>iex(1)&gt; %x{} = %MinhaStruct{}
%MinhaStruct{hello: nil}
iex(2)&gt; x
MinhaStruct </code></pre><div><br>Porém, não conseguimos criar structs através de variáveis:</div><pre><code class='html'>iex(12)&gt; x = MinhaStruct
MinhaStruct
iex(13)&gt; %x{}
** (CompileError) iex:13: expected struct name to be a compile time atom or alias, got: x</code></pre><div><br>Caso isso seja necessário, devemos utilizar a função <strong><em>struct</em></strong>:</div><pre><code class='html'>iex(13)&gt; defmodule User do
...(13)&gt; defstruct name: "john"
...(13)&gt; end
iex(14)&gt; x = User
iex(15)&gt; struct(x)
%User{name: "john"}</code></pre><div><br><strong>1.2 </strong>Na definição de <em>guards</em>, não podemos utilizar funções definidas no módulo:</div><pre><code class='html'>iex(4)&gt; defmodule Teste do
...(4)&gt; def maiorquequatro(x), do: x &gt; 4
...(4)&gt; def verifica(numero) when maiorquequatro(numero), do: IO.puts("é maior que quatro") 
...(4)&gt; def verifica(_numero), do: IO.puts("não é maior que quatro")                             
...(4)&gt; end
** (CompileError) iex:6: cannot find or invoke local maiorquequatro/1 inside guard. Only macros can be invoked in a guard and they must be defined before their invocation. Called as: maiorquequatro(numero)</code></pre><div><br>Para utilizar funções customizadas em <em>guards</em>, utilizamos macros:</div><pre><code class='html'> iex(9)&gt; defmodule Teste do                                    
...(9)&gt; defmacro maiorquequatro(numero) do
...(9)&gt; quote do: unquote(numero) &gt; 4                   
...(9)&gt; end
...(9)&gt; def verifica(numero) when maiorquequatro(numero), do: IO.puts("é maior que quatro")
...(9)&gt; def verifica(_numero), do: IO.puts("não é maior que quatro")
...(9)&gt; end
iex(10)&gt; Teste.verifica(2)
não é maior que quatro
:ok
iex(11)&gt; Teste.verifica(5)
é maior que quatro
:ok</code></pre><div><br><strong>1.3</strong> <em>Pattern matching</em> em <em>keyword lists</em> funcionam dessa forma:&nbsp;</div><pre><code class='html'>iex(4)&gt; [{:name, nome} | _] = [name: "henrique", id: 3]
[name: "henrique", id: 3]
iex(5)&gt; nome
"henrique"</code></pre><div><br>Lembrando que <em>keyword lists</em> são um <em>syntax sugar</em> para uma lista de tuplas...</div><pre><code class='html'>iex(7)&gt; [{:name, nome}, {:id, 3}] == [name: "henrique", id: 3]
true</code></pre><div><br>Se quisessemos extrair somente o nome, por exemplo, não poderiamos fazer dessa maneira:</div><pre><code class='html'>iex(6)&gt; [{:name, nome}] = [name: "henrique", id: 3]    
** (MatchError) no match of right hand side value: [name: "henrique", id: 3]</code></pre><div><br>Aqui vão <em>links</em> de estudo para se aprofundar bastante sobre esses temas:<br><a href="https://hexdocs.pm/elixir/Kernel.html#defstruct/1">https://hexdocs.pm/elixir/Kernel.html#defstruct/1</a><br><a href="https://hexdocs.pm/elixir/Kernel.html#struct/2">https://hexdocs.pm/elixir/Kernel.html#struct/2</a><br><a href="https://www.poeticoding.com/the-beauty-of-pattern-matching-in-elixir/">https://www.poeticoding.com/the-beauty-of-pattern-matching-in-elixir/</a><br><a href="https://joyofelixir.com/6-pattern-matching">https://joyofelixir.com/6-pattern-matching</a><br><a href="https://elixir-lang.org/getting-started/pattern-matching.html">https://elixir-lang.org/getting-started/pattern-matching.html</a><br><a href="https://elixir-lang.org/getting-started/keywords-and-maps.html">https://elixir-lang.org/getting-started/keywords-and-maps.html</a><br><br></div><h3>2. Escreva um alias (autocomplete) na sua <em>IDE</em> para o require <em>IEx; IEx.pry </em><del>por favor</del>.</h3><div><br>Passamos bastante tempo "debugando" código nas aplicações, em qualquer linguagem. Felizmente o <em>Elixir</em> conta com ferramentas muito boas para nos auxiliar. Uma das mais usadas requer o módulo <strong>IEx</strong>:</div><pre><code class='elixir'>require IEx</code></pre><div><br>Dessa forma podemos criar um breakpoint que irá abrir um terminal quando o código passar por essa linha:</div><pre><code class='elixir'>def hello(), do: IEx.pry</code></pre><div><br>Porém, é comum esquecermos o<strong> require IEx </strong>no início do arquivo, logo passamos a escrever:</div><pre><code class='elixir'>require IEx; IEx.pry</code></pre><div><br></div><div>Acredite em mim, com o tempo você vai ficar cansado de escrever <strong>require IEx; IEx.pry</strong> toda hora! Na minha <em>IDE</em> tenho um alias que funciona da seguinte maneira, quando escrevo "pry" e salvo o arquivo ou dou um espaço ela automaticamente completa com o resto.<br><br>Se a sua <em>IDE</em> de preferência for o <em>VIM</em> (assim como a minha), adicione esse trecho de configuração no seu <strong>~/.vimrc:</strong>&nbsp;</div><pre><code class='html'>abbr pry require IEx; IEx.pry</code></pre><div><br>Faça isso e seja feliz!<br><br></div><h3>3. Rode testes com<strong> iex -S mix test --trace </strong>para não dar timeout na sessão do <strong>IEx</strong>&nbsp;</h3><div><br>Quando vamos debugar algum ponto do código por um tempo mais longo (utilizando o<em> </em><strong><em>require IEx; IEx.pry </em></strong>com os testes), o ideal é usar o comando acima ou alterar o tempo limite da sessão, caso contrário sua sessão encerrará em 60 segundos.</div><pre><code class='html'>** (ExUnit.TimeoutError) test timed out after 60000ms. You can change the timeout:</code></pre><div><br>Inclusive, também seria interessante criar um alias para esse comando, no seu terminal (<strong><em>~/.bashrc</em></strong>)</div><pre><code class='html'>alias mixtest="iex -S mix test --trace"</code></pre><h3><br>4. Domine a biblioteca <strong><em>Plug</em></strong>&nbsp;</h3><div><br>A biblioteca <em>Plug</em> é uma das principais "portas de entrada" para o <em>Elixir</em> na <em>web</em>, inclusive, o <em>framework Phoenix</em> foi construído baseado nela. Ter domínio e confiança em sua utilização nos trás mais segurança e assertividade nas decisões tomadas em projetos <em>Phoenix</em>.<br><br><em>links</em> para estudo: <br><a href="https://ieftimov.com/post/a-deeper-dive-in-elixir-plug/">https://ieftimov.com/post/a-deeper-dive-in-elixir-plug/</a><br><a href="https://elixirschool.com/pt/lessons/specifics/plug/">https://elixirschool.com/pt/lessons/specifics/plug/</a><br><a href="https://hexdocs.pm/plug/readme.html">https://hexdocs.pm/plug/readme.html</a><br><br></div><h3>5. Conheça essas dicas do <strong>IEx</strong>:</h3><div><br><strong>5.1</strong> É possível escrever um arquivo de ajuda para iniciar automaticamente variáveis e tudo o que queremos quando abrirmos o terminal do <strong>IEx </strong>em um projeto. Basta criar um arquivo chamado <strong><em>.iex.exs </em></strong>na raiz do projeto, exemplo:</div><pre><code class='elixir'># Importe funções e módulos
import_if_available(MinhaApp.MeuModulo)

# De print em algo antes do terminal iniciar
IO.puts("hello world")

# Faça o bind de variáveis que ficarão disponíveis no terminal
value = 13</code></pre><div><br><strong>5.2</strong> Existem diversas funções disponíveis no <strong>IEx</strong> que podem nos deixar mais produtivos, veja alguma delas:</div><pre><code class='html'>  • b/1            - prints callbacks info and docs for a given module
  • c/1            - compiles a file into the current directory
  • c/2            - compiles a file to the given path
  • cd/1           - changes the current directory
  • clear/0        - clears the screen
  • exports/1      - shows all exports (functions + macros) in a module
  • flush/0        - flushes all messages sent to the shell
  • h/0            - prints this help message
  • h/1            - prints help for the given module, function or macro
  • i/0            - prints information about the last value
  • i/1            - prints information about the given term
  • ls/0           - lists the contents of the current directory
  • ls/1           - lists the contents of the specified directory
  • open/1         - opens the source for the given module or function in
    your editor
  • pid/1          - creates a PID from a string
  • pid/3          - creates a PID with the 3 integer arguments passed
  • ref/1          - creates a Reference from a string
  • ref/4          - creates a Reference with the 4 integer arguments
    passed
  • pwd/0          - prints the current working directory
  • r/1            - recompiles the given module's source file
  • recompile/0    - recompiles the current project
  • runtime_info/0 - prints runtime info (versions, memory usage, stats)
  • v/0            - retrieves the last value from the history
  • v/1            - retrieves the nth value from the history</code></pre><div><br></div><div><strong>5.3</strong> <strong><em>Tab</em></strong> completa o nome de módulos, funções e também mostra os métodos quando finalizamos um nome com ".":</div><pre><code class='html'> iex(9)&gt; Enum.
EmptyError           OutOfBoundsError     all?/1               
all?/2               any?/1               any?/2                   
...</code></pre><div><br>Os exemplos foram retirados da documentação do <strong>IEx</strong>: <a href="https://hexdocs.pm/iex/IEx.html#module-the-iex-exs-file">https://hexdocs.pm/iex/IEx.html#module-the-iex-exs-file</a><br><br></div><h3>6. Conheça e utilize os diversos plugins para <em>Elixir</em> e <em>Phoenix</em> na sua <em>IDE</em></h3><div><br>Não se limite ao básico! Os plugins existem para serem utilizados, abuse deles!<br><br>Se você é usuário do <em>VSCode</em>, este artigo tem dicas muito boas: <a href="https://thinkingelixir.com/elixir-in-vs-code/">https://thinkingelixir.com/elixir-in-vs-code/</a><br>Para o <em>VIM, de uma lida aqui</em>: <a href="https://medium.com/@siever/setup-vim-for-elixir-development-280a01150152">https://medium.com/@siever/setup-vim-for-elixir-development-280a01150152</a><br>Para o Atom: <a href="https://atom.io/packages/atom-elixir">https://atom.io/packages/atom-elixir</a><br><br></div><h3>7. Seguindo as dicas acima e utilizando a biblioteca <a href="https://github.com/henriquefernandez/phoenix_up"><strong><em>phoenix_up</em></strong></a>, chegaremos a<em> </em><strong><em>"299.792.458</em></strong><strong> </strong><strong><em>features"</em></strong><strong> por segundo!</strong>:</h3><div><br><a href="https://github.com/henriquefernandez/phoenix_up"><strong><em>phoenix_up</em></strong></a><em>a</em>diciona mais <em>generators</em> para desenvolver projetos <em>Phoenix</em>, basicamente, com essa biblioteca não teremos mais o trabalho de escrever arquivo por arquivo e estruturas repetitivas como: "<em>BlaController, BlaView, templates/bla, BlaControllerTest</em>" e etc.. Nos meus projetos, eu sempre uso!</div><div><br></div><h3>Concluindo..</h3><div><br>Apesar de algumas dicas serem mais "práticas", podemos perceber que outras são pontos onde vale a pena reforçar o estudo! Particularmente, hoje me sinto bastante confortável e produtivo com <em>Elixir e Phoenix, e</em> isso foi graças a esse equilíbrio de buscar ferramentas que me auxiliassem e estudar a fundo pontos fundamentais!<br><br>Se esse post te trouxe bons <em>insights</em>, não deixe de assinar a <strong><em>newsletter</em></strong>! Assim eu te aviso quando postar coisas novas no blog. Não vou poluir sua caixa de email, prometo!! :D</div>        <br>
        <hr>
        <br>
        <div class="fb-comments" data-href="https://truehenrique.com/elixir-e-phoenix-programando-na-velocidade-da-luz" data-width="" data-numposts="10"></div>
      </div>
    </div>
    <div class="cell small-12 medium-4">
      <div class="post-aside">
        <h5>Newsletter</h5>
        <small>Fique por dentro de todas as novidades do blog</small>
        <hr>
<form accept-charset="UTF-8" action="https://truehenrique.com/newsletter" method="post"><input name="_csrf_token" type="hidden" value="BB0CB1gsMmoyNxQTUB0QeDwuGlcKSQAslT1l3XaRdxvp9gQMfV78edOi"><input name="_utf8" type="hidden" value="✓">          <div class="input-group">
            <span class="input-group-label"><i class="fi-mail"></i></span>
<input id="post_slug" name="post_slug" type="hidden" value="elixir-e-phoenix-programando-na-velocidade-da-luz"><input class="input-group-field" id="newsletter_email" name="newsletter[email]" placeholder="Digite seu email" required="true" type="email">          </div>
<button class="button newsletter-button" type="submit">Assinar</button></form>      </div>
    </div>
  </div>
</div>
<br>
<br>
    <footer class="social-footer">
      @truehenrique
      <div class="social-footer-left">
        <a href="arquivo.html" class="button hollow"><i class="fi-list-bullet"></i> Arquivo</a>
      </div>
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
    <script src='js/app.js'></script>
  </body>
</html>
